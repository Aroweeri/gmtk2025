[gd_scene load_steps=16 format=3 uid="uid://bhujpltdw4ljj"]

[ext_resource type="Script" uid="uid://cretloakqtccg" path="res://scenes/main.gd" id="1_rarhs"]
[ext_resource type="Texture2D" uid="uid://dkm55g8bd5x2i" path="res://icon.svg" id="1_rvslj"]
[ext_resource type="Script" uid="uid://dp84pamq5ofd7" path="res://scripts/rotator.gd" id="2_0bbpv"]
[ext_resource type="Texture2D" uid="uid://chw70u2c8siwq" path="res://assets/Sun.png" id="2_nxtc6"]
[ext_resource type="Script" uid="uid://bt0iktgl5e5py" path="res://scripts/player.gd" id="3_0bbpv"]
[ext_resource type="Texture2D" uid="uid://cqdfthrx6cgyc" path="res://assets/Planet.png" id="5_wp0k4"]
[ext_resource type="Texture2D" uid="uid://cdh7da8rvrw0d" path="res://assets/Planet_n.png" id="6_bjd11"]
[ext_resource type="Texture2D" uid="uid://b8lhxbmwq6pew" path="res://assets/2d_lights_and_shadows_neutral_point_light.webp" id="6_nxtc6"]
[ext_resource type="Texture2D" uid="uid://dwrufhrusf85g" path="res://assets/Space.png" id="7_q8u5g"]
[ext_resource type="AudioStream" uid="uid://dbjebr5jp0l12" path="res://assets/oof.ogg" id="8_jlsqs"]
[ext_resource type="AudioStream" uid="uid://disjmopfasxnc" path="res://assets/Stream Loops 2024-03-20_02.ogg" id="10_lhr70"]

[sub_resource type="CanvasTexture" id="CanvasTexture_qmy6f"]
diffuse_texture = ExtResource("5_wp0k4")
normal_texture = ExtResource("6_bjd11")

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_wp0k4"]
polygon = PackedVector2Array(24.3, -64, -24.5, -64, -35.4, -59, -37.8, -59, -43.8, -53, -46, -53, -58, -38, -59.4, -38, -64, -26.1, -64, 22.5, -63, 24.5, -63, 28.7, -57, 36.6, -57, 38.9, -41, 53.9, -41, 55.2, -25.2, 64, 22.3, 64, 37.5, 56, 39.9, 56, 44.9, 50, 47, 50, 58, 36, 59.4, 36, 64, 23.1, 64, -24, 57, -35.6, 57, -37.8, 43, -52.9, 43, -54.2)

[sub_resource type="CircleShape2D" id="CircleShape2D_0bbpv"]
radius = 58.2151

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_q8u5g"]
light_mode = 1

[node name="Node2D" type="Node2D"]
script = ExtResource("1_rarhs")

[node name="Sun" type="Sprite2D" parent="."]
scale = Vector2(8, 8)
texture = ExtResource("2_nxtc6")

[node name="PlayerRotator" type="Node2D" parent="."]
script = ExtResource("2_0bbpv")

[node name="Player" type="Node2D" parent="PlayerRotator"]
position = Vector2(10000, 0)
script = ExtResource("3_0bbpv")

[node name="Sprite" type="Sprite2D" parent="PlayerRotator/Player"]
light_mask = 2
texture = SubResource("CanvasTexture_qmy6f")

[node name="LightOccluder2D" type="LightOccluder2D" parent="PlayerRotator/Player/Sprite"]
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_wp0k4")

[node name="Camera2D" type="Camera2D" parent="PlayerRotator/Player"]
zoom = Vector2(0.2, 0.2)

[node name="StaticBody2D" type="Area2D" parent="PlayerRotator/Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="PlayerRotator/Player/StaticBody2D"]
shape = SubResource("CircleShape2D_0bbpv")

[node name="Parallax2D" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.3, 0.3)
scroll_offset = Vector2(715, 209)

[node name="Sprite2D" type="Sprite2D" parent="Parallax2D"]
light_mask = 0
z_index = -2
material = SubResource("CanvasItemMaterial_q8u5g")
scale = Vector2(14, 14)
texture = ExtResource("7_q8u5g")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 40.0
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="healthHBox" type="HBoxContainer" parent="CanvasLayer/MarginContainer"]
layout_mode = 2

[node name="health1" type="TextureRect" parent="CanvasLayer/MarginContainer/healthHBox"]
layout_mode = 2
texture = ExtResource("1_rvslj")

[node name="health2" type="TextureRect" parent="CanvasLayer/MarginContainer/healthHBox"]
layout_mode = 2
texture = ExtResource("1_rvslj")

[node name="health3" type="TextureRect" parent="CanvasLayer/MarginContainer/healthHBox"]
layout_mode = 2
texture = ExtResource("1_rvslj")

[node name="health4" type="TextureRect" parent="CanvasLayer/MarginContainer/healthHBox"]
layout_mode = 2
texture = ExtResource("1_rvslj")

[node name="health5" type="TextureRect" parent="CanvasLayer/MarginContainer/healthHBox"]
layout_mode = 2
texture = ExtResource("1_rvslj")

[node name="PointLight2D" type="PointLight2D" parent="."]
scale = Vector2(2.74547, 2.74547)
energy = 2.0
range_item_cull_mask = 3
shadow_enabled = true
texture = ExtResource("6_nxtc6")
texture_scale = 50.0

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.194349, 0.194349, 0.194349, 1)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_jlsqs")
volume_db = -6.093

[node name="BackgroundMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_lhr70")
volume_db = -10.0
autoplay = true
parameters/looping = true

[connection signal="healthLost" from="PlayerRotator/Player" to="." method="_on_player_health_lost"]
[connection signal="playerDied" from="PlayerRotator/Player" to="." method="_on_player_player_died"]
